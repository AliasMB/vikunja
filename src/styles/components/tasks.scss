.tasks {
	margin-top: 1rem;
	padding: 0;
	text-align: left;

	&.noborder {
		margin: 1rem -0.5rem;
	}

	.task {
		margin: 0 .5rem;
	
		&:first-child {
			margin-top: .5rem;
		}
	
		&:last-child {
			margin-bottom: .5rem;
		}
	}

	.checklist-summary {
		padding-left: .5rem;
		font-size: .9rem;
	}

	.progress {
		width: 50px;
		margin: 0 0.5rem 0 0;
		flex: 3 1 auto;

		@media screen and (max-width: $tablet) {
			margin: 0.5rem 0 0 0;
			order: 1;
			width: 100%;
		}
	}

	.task:last-child {
		border-bottom: none;
	}
}

.is-menu-enabled .tasks .task {
	span:not(.tag), a {
		.tasktext, &.tasktext {
			@media screen and (max-width: $desktop) {
				max-width: calc(100vw - 27px - 2rem - 1.5rem - 3rem - #{$navbar-width}); // 1.5rem is the padding of the tasks container, 3rem is the padding of .app-container
			}

			// Duplicated rule to have it work properly in at least some browsers
			// This should be fine as the ui doesn't work in rare edge cases to begin with
			@media screen and (max-width: calc(#{$desktop} + #{$navbar-width})) {
				max-width: calc(100vw - 27px - 2rem - 1.5rem - 3rem - #{$navbar-width}); // 1.5rem is the padding of the tasks container, 3rem is the padding of .app-container
			}
		}
	}
}

.is-max-width-desktop .tasks .task {
	max-width: $desktop;
}

.tasktext {
	:focus {
		box-shadow: inset 0 0 0 2px rgba($primary, 0.5);
	}

	:focus:not(:focus-visible) {
		outline: 0;
	}

	:focus-visible, :-moz-focusring {
		box-shadow: inset 0 0 0 2px rgba($primary, 0.5);
	}
}
